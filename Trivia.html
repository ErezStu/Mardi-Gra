<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Link to the Bootstrap CSS -->

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <link rel="stylesheet" href="css/Main.css">

    <!-- Logo of the website -->

    <link rel="shortcut icon" href="Pictures/Logo.png">

    <title>Mardi Gras - Home</title>

</head>

<body>

    <!-- Navbar -->

    <nav class="navbar-lg navbar-expand-lg navbar-light">
        <div class="container">
            <!-- Mardi Gras logo -->
            <a class="text-success navbar-brand" href="index.html">
                <img src="Pictures/HeadLogo.png" alt="Logo"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <!-- Buttons pages -->
                        <a class="nav-link active" aria-current="page" href="About.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="Media.html">Media</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="FAQ.html">FAQ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="Contact.html">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="Trivia.html">Trivia</a>
                    </li>
                </ul>

                <!-- Search -->

                <form class="d-flex">
                    <input class="form-control me-2" type="search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
            </div>
        </div>
    </nav>

    <br>

    <!-- Trivia -->

    <body onload="NextQuestion(0)">
        <main>

            <div class="modal-container" id="score-modal">

                <div class="modal-content-container">

                    <h3>Congratulations, Quiz Completed.</h3>

                    <div class="grade-details">
                        <p>Attempts : 10</p>
                        <p>Wrong Answers : <span id="wrong-answers"></span></p>
                        <p>Right Answers : <span id="right-answers"></span></p>
                        <p>Grade : <span id="grade-percentage"></span>%</p>
                        <p><span id="remarks"></span></p>
                    </div>

                    <div class="modal-button-container">
                        <button onclick="closeScoreModal()">Continue</button>
                    </div>
                </div>
            </div>

            <div class="game-quiz-container">

                <div class="game-details-container">
                    <h3>Score : <span id="player-score"></span> / 10</h3>
                    <h3> Question : <span id="question-number"></span> / 10</h3>
                </div>

                <div class="game-question-container">
                    <h3 id="display-question"></h3>
                </div>

                <div class="game-options-container">

                    <div class="modal-container" id="option-modal">

                        <div class="modal-content-container">
                            <h3>Please Pick An Option</h3>

                            <div class="modal-button-container">
                                <button onclick="closeOptionModal()">Continue</button>
                            </div>
                        </div>
                    </div>

                    <span>
                        <input type="radio" id="option-one" name="option" class="radio" value="optionA" />
                        <label for="option-one" class="option" id="option-one-label"></label>
                    </span>

                    <span>
                        <input type="radio" id="option-two" name="option" class="radio" value="optionB" />
                        <label for="option-two" class="option" id="option-two-label"></label>
                    </span>

                    <span>
                        <input type="radio" id="option-three" name="option" class="radio" value="optionC" />
                        <label for="option-three" class="option" id="option-three-label"></label>
                    </span>

                    <span>
                        <input type="radio" id="option-four" name="option" class="radio" value="optionD" />
                        <label for="option-four" class="option" id="option-four-label"></label>
                    </span>
                </div>

                <div class="next-button-container">
                    <button onclick="handleNextQuestion()">Next Question</button>
                </div>
            </div>
        </main>

        <!-- Footer bar -->

        <footer class="bg-success text-white text-center text-lg-start">
            <div class="container p-4">
                <div class="row">

                    <!-- Left side of the footer -->

                    <div class=" col-lg-8 col-md-12 mb-4 mb-md-0">

                        <h5 class="text-uppercase">&#128161; Did you know?</h5>

                        <p id="know">
                            <!-- Taken from JS -->
                        </p>
                    </div>

                    <!-- Right side of the footer -->

                    <div class="col-lg-3 col-md-6 mb-4 mb-md-0">

                        <h5 class="text-uppercase">Links</h5>

                        <ul class="list-unstyled mb-0">
                            <li>
                                <a target="_blank" href="https://www.bestneworleanshotels.com/"
                                    class="text-white">Hotels</a>
                            </li>
                            <li>
                                <a target="_blank" href="https://www.neworleansrestaurants.com/"
                                    class="text-white">Restaurants</a>
                            </li>
                            <li>
                                <a target="_blank" href="https://www.mardigrasneworleans.com/parades/"
                                    class="text-white">Schedules</a>
                            </li>
                            <li>
                                <a target="_blank"
                                    href="https://www.neworleanscoupons.com/?_ga=2.225507551.491898.1621785285-2111004378.1621785285"
                                    class="text-white">Coupons</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Copyright (Last row of the page) -->
            <div class="text-center p-3" style="background-color: #0d0d0d;">
                <a class="text-white" target="_blank" href="https://www.mardigrasneworleans.com/">
                    © 1996-2021 MardiGrasNewOrleans.com
                </a>
            </div>
        </footer>

        <!-- Top button -->

        <button onclick="topFunction()" id="myBtn" title="Go to top">&#129145;</button>

        <!-- Link to the Bootstrap Javascript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous">
            </script>

        <script>
            // Top button
            var mybutton = document.getElementById("myBtn");
            window.onscroll = function () {
                scrollFunction()
            };
            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    mybutton.style.display = "block";
                } else {
                    mybutton.style.display = "none";
                };
            };
            function topFunction() {
                document.body.scrollTop = 0;
                document.documentElement.scrollTop = 0;
            };

            //Did you know

            function didKnow() {

                let know = ["The first American Mardi Gras took place on March 3, 1699, when French explorers Pierre Le Moyne d’Iberville and Sieur de Bienville landed near present-day New Orleans, Louisiana. They held a small celebration and dubbed their landing spot Point du Mardi Gras.", "You'll hear laissez les bon temps rouler (pronounced lay-say le bon tom roo-lay) over and over again at Mardi Gras celebrations. It means 'let the good times roll' in Cajun French. We can get behind that idea!", "In New Orleans, carnival season begins on Epiphany, also known as Three Kings Day. Many smaller parades are hosted leading up to the 12-day parading period. But the last five days make up the main weekend (from Thursday night until the morning of Fat Tuesday), when the largest parades run back-to-back.", "While some krewes have been hosting Mardi Gras parades for years, others have formed more recently. Most are named after Roman or Greek mythology.", "It’s not just a tradition—it’s the law! Everyone on the float must wear a mask or paint their face. The practice was originally started to encourage people to mingle and talk to those outside of your social circle.", "Each float in a Mardi Gras parade is decorated differently to fit into a central theme, which can be anything from literature to humor. And they don't waste any time getting to work: Most start on the following year's floats as soon as Fat Tuesday is over.", "Historians believe Mardi Gras arrived in North America in 1699 and then spread to New Orleans in 1718. The Mistick Krewe of Comus was the first to roll floats about 60 miles from New Orleans in 1856. Krewe of Rex was the first of the type of parade krewes we see today.", "According to How Stuff Works, each parade kicks off with the krewe leader. Next comes the king or queen, followed by the maids and dukes, before the rest of the members.", "You may assume that Mardi Gras is one wild party, but there are some spots you can go that are family friendly, too. Try finding an area along the parade route uptown if you're looking for a more PG experience.", "Just use the magic words: 'Throw me something, mister!' as floats pass by, and watch as krewe members happily toss you beads and toys.", "In addition to paying a membership fee, krewe members dish out major cash for beads, costumes, security, clean-up crews, and Mardi Gras balls year after year. Luckily, many krewes allow members to take a break for a year, as long as they send a friend to ride (and pay) in their place."];

                let randKnow = know[Math.floor(Math.random() * know.length)];
                document.querySelector("#know").textContent = randKnow
            };
            didKnow();

            //Trivia

            function displayAnswer1() {
                if (document.getElementById('option-11').checked) {
                    document.getElementById('block-11').style.border = '3px solid limegreen'
                    document.getElementById('result-11').style.color = 'limegreen';
                    document.getElementById('result-11').innerHTML = 'Correct!';
                };

                if (document.getElementById('option-12').checked) {
                    document.getElementById('block-12').style.border = '3px solid red';
                    document.getElementById('result-12').style.color = 'red';
                    document.getElementById('result-12').innerHTML = 'Incorrect!';
                    showCorrectAnswer1();
                };

                if (document.getElementById('option-13').checked) {
                    document.getElementById('block-13').style.border = '3px solid red';
                    document.getElementById('result-13').style.color = 'red';
                    document.getElementById('result-13').innerHTML = 'Incorrect!';
                    showCorrectAnswer1();
                };

                if (document.getElementById('option-14').checked) {
                    document.getElementById('block-14').style.border = '3px solid red';
                    document.getElementById('result-14').style.color = 'red';
                    document.getElementById('result-14').innerHTML = 'Incorrect!';
                    showCorrectAnswer1();
                };
            };

            function showCorrectAnswer1() {
                let showAnswer1 = document.createElement('p');
                showAnswer1.innerHTML = 'Show Corrent Answer';
                showAnswer1.style.position = 'relative';
                showAnswer1.style.top = '-180px'
                showAnswer1.style.fontSize = '1.75rem';
                document.getElementById('showanswer1').appendChild(showAnswer1);
                showAnswer1.addEventListener('click', () => {
                    document.getElementById('block-11').style.border = '3px solid limegreen';
                    document.getElementById('result-11').style.color = 'limegreen';
                    document.getElementById('result-11').innerHTML = 'Correct!';
                    document.getElementById('showanswer1').removeChild(showAnswer1);
                });
            };

            const questions = [
                {
                    question: "When did Mardi Gras begin ?",
                    optionA: "1996",
                    optionB: "2013",
                    optionC: "1886",
                    optionD: "1699",
                    correctOption: "optionD"
                },
                {
                    question: "Where does Mardi Gras take place ?",
                    optionA: "Chicago",
                    optionB: "New Orleans",
                    optionC: "Minneapolis",
                    optionD: "Miami",
                    correctOption: "optionB"
                },
                {
                    question: "How long does Mardi Gras last ?",
                    optionA: "Two Days",
                    optionB: "Three weeks",
                    optionC: "One Month",
                    optionD: "Two weeks",
                    correctOption: "optionD"
                },
                {
                    question: "How much does it cost to go to Mardi Gras ?",
                    optionA: "10$ for a ticket",
                    optionB: "100$ for a ticket",
                    optionC: "It's free",
                    optionD: "50$ for a ticket",
                    correctOption: "optionC"
                },
                {
                    question: "What Does Mardi Gras Mean ?",
                    optionA: "Saturday thin",
                    optionB: "Mask Costume",
                    optionC: "Rebellion Weed",
                    optionD: "Tuesday Fat",
                    correctOption: "optionD"
                },
                {
                    question: "the first American Mardi Gras was held by :",
                    optionA: "Pierre Le Moyne",
                    optionB: "Christopher Columbus",
                    optionC: "George Washington",
                    optionD: "Angelina Jolie",
                    correctOption: "optionA"
                },
                {
                    question: "Who was the Mayor during the 1st Mardi Gras ?",
                    optionA: "Jane Amber",
                    optionB: "Paul Arthurs",
                    optionC: "Maurice Edwin Landrieu",
                    optionD: "Jack Nicholson",
                    correctOption: "optionC"
                },
                {
                    question: "Who is the current mayor of New Orleans ?",
                    optionA: "LaToya Cantrell",
                    optionB: "Emily Shein",
                    optionC: "Jacob Trump",
                    optionD: "Ed Simon",
                    correctOption: "optionA"
                },
                {
                    question: "How many times a year does Mardi Gras occur ?",
                    optionA: "twice",
                    optionB: "Three times",
                    optionC: "Four times",
                    optionD: "Once",
                    correctOption: "optionD"
                },
                {
                    question: "What was the name of the mardi Gras movie ?",
                    optionA: "Party Time",
                    optionB: "The Revolution",
                    optionC: "Miami Vice",
                    optionD: "Spring Break",
                    correctOption: "optionD"
                },
            ];

            let shuffledQuestions = [];
            function handleQuestions() {
                while (shuffledQuestions.length <= 9) {
                    const random = questions[Math.floor(Math.random() * questions.length)];

                    if (!shuffledQuestions.includes(random)) {
                        shuffledQuestions.push(random);
                    }
                }
            }

            let questionNumber = 1;
            let playerScore = 0;
            let wrongAttempt = 0;
            let indexNumber = 0;

            function NextQuestion(index) {
                handleQuestions()
                const currentQuestion = shuffledQuestions[index];
                document.getElementById("question-number").innerHTML = questionNumber;
                document.getElementById("player-score").innerHTML = playerScore;
                document.getElementById("display-question").innerHTML = currentQuestion.question;
                document.getElementById("option-one-label").innerHTML = currentQuestion.optionA;
                document.getElementById("option-two-label").innerHTML = currentQuestion.optionB;
                document.getElementById("option-three-label").innerHTML = currentQuestion.optionC;
                document.getElementById("option-four-label").innerHTML = currentQuestion.optionD;
            }

            function checkForAnswer() {
                const currentQuestion = shuffledQuestions[indexNumber];
                const currentQuestionAnswer = currentQuestion.correctOption;
                const options = document.getElementsByName("option");
                let correctOption = null
                options.forEach((option) => {

                    if (option.value === currentQuestionAnswer) {
                        correctOption = option.labels[0].id
                    };
                });

                if (options[0].checked === false && options[1].checked === false && options[2].checked === false && options[3].checked == false) {
                    document.getElementById('option-modal').style.display = "flex";
                };

                options.forEach((option) => {
                    if (option.checked === true && option.value === currentQuestionAnswer) {
                        document.getElementById(correctOption).style.backgroundColor = "green";
                        playerScore++
                        indexNumber++

                        setTimeout(() => {
                            questionNumber++
                        }, 1000)
                    }

                    else if (option.checked && option.value !== currentQuestionAnswer) {
                        const wrongLabelId = option.labels[0].id
                        document.getElementById(wrongLabelId).style.backgroundColor = "red"
                        document.getElementById(correctOption).style.backgroundColor = "green"
                        wrongAttempt++
                        indexNumber++
                        setTimeout(() => {
                            questionNumber++
                        }, 1000)
                    }
                })
            }

            function handleNextQuestion() {
                checkForAnswer()
                unCheckRadioButtons()
                setTimeout(() => {
                    if (indexNumber <= 9) {
                        NextQuestion(indexNumber)
                    }
                    else {
                        handleEndGame()
                    }
                    resetOptionBackground()
                }, 1000);
            }

            function resetOptionBackground() {
                const options = document.getElementsByName("option");
                options.forEach((option) => {
                    document.getElementById(option.labels[0].id).style.backgroundColor = ""
                })
            }

            function unCheckRadioButtons() {
                const options = document.getElementsByName("option");
                for (let i = 0; i < options.length; i++) {
                    options[i].checked = false;
                }
            }

            function handleEndGame() {
                let remark = null
                let remarkColor = null
                if (playerScore <= 3) {
                    remark = "Bad Grades, Keep Practicing."
                    remarkColor = "red"
                }
                else if (playerScore >= 4 && playerScore < 7) {
                    remark = "Average Grades, You can do better."
                    remarkColor = "orange"
                }
                else if (playerScore >= 7) {
                    remark = "Excellent, Keep the good work going."
                    remarkColor = "green"
                }
                const playerGrade = (playerScore / 10) * 100
                document.getElementById('remarks').innerHTML = remark
                document.getElementById('remarks').style.color = remarkColor
                document.getElementById('grade-percentage').innerHTML = playerGrade
                document.getElementById('wrong-answers').innerHTML = wrongAttempt
                document.getElementById('right-answers').innerHTML = playerScore
                document.getElementById('score-modal').style.display = "flex"
            }

            function closeScoreModal() {
                questionNumber = 1
                playerScore = 0
                wrongAttempt = 0
                indexNumber = 0
                shuffledQuestions = []
                NextQuestion(indexNumber)
                document.getElementById('score-modal').style.display = "none"
            }

            function closeOptionModal() {
                document.getElementById('option-modal').style.display = "none"
            }

        </script>


    </body>

</html>